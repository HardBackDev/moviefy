{% extends 'scaffold.html' %}

{% block content %}
{% load static %}

<div class="container">
    <section style="display: flex">
        <section *ngIf="movie"  style="width: 90%;" class="content-container">
            <div style="display: flex;">
                <img src="{{ movie.poster_url }}" style="width: 300px; height: 400px;"/>
                <section style="margin-left: 10px;">
                    <h1 style="text-align: center;">{{movie.title}}</h1>
                    <hr>
                    <h2>Description:</h2> 
                    <h3>{{movie.description}}</h3>
                    <hr>
                    <h2>Genres:</h2> 
                    <h3>{{movie.genres}}</h3>
                </section>
            </div>
            <hr>
            <div class="row" style="padding: 5px; padding-left: 10px; display: flex">
                <div style="width: 310px;">
                    <h1 style="color: rgb(12, 239, 12);">Likes: {{ movie.rating }}</h1>
                </div>
                <div class="col" style="display: flex; height: fit-content;">
                    <a href="/">
                        <button class="btn btn-success" style="margin-left: 30px;">back</button>
                    </a>
                    <a href="{% url 'like_movie' movie.id %}">
                      <button class="btn btn-success" style="margin-left: 30px;">Like</button>
                  </a>
                </div>
            </div>
        </section>
    </section>
    <hr>

    <div class="row content-container">

        <video
            controls
            id="my-video"
            class="video-js"
            preload="auto"
            height="720"
            data-setup="{}"
            >
            <source src="http://127.0.0.1:8000/streamVideo/{{movie.video_path}}" type="video/mp4" />
            <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider upgrading to a
                web browser that
                <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
            </p>
        </video>

    </div>
</div>

<style>
    .content-container{
    background-color: rgb(39, 34, 27);
    box-shadow: 5px 5px 10px 2px rgba(0,0,0,.8);
    border: 5px solid #000; 
    padding: 5px;
}

  .container{
    margin-top: 5%;
    width: 100%;
    margin-left: 4%;
    padding: 20px;
    border: 1px solid #000;
    border-width: 4px;
    border-color: black;
    border-radius: 10px;
    background-color: rgb(56, 52, 37);
    color: aliceblue;
  }
  .comments{
    margin-left: 100px;
    margin-top: 50px;
    width: 1000px;
    background-color: darkgray;
    padding: 20px 20px;
    border-radius: 10px;
  }

  .comment-input[type="text"] {
    border: solid 1px var(--primary-color);
    padding: 10px;
    border-radius: 8px;
    margin-right: 4px;
    display: inline-block;
    width: 70%;
    color: aliceblue;
    background-color: rgba(14, 0, 0, 0.845);
  }

  .add-button {
    padding: 10px;
    border: solid 1px var(--primary-color);
    background: var(--primary-color);
    color: rgb(68, 66, 66);
    background-color: rgb(11, 15, 11);
    border-radius: 8px;
    color: aliceblue;
    font-size: large;
  }

  .loader {
    border: 10px solid #1e134a;
    border-top: 10px solid #0f3a5e80;
    border-radius: 50%;
    width: 80px;
    height: 80px;
    animation: spin 2s linear infinite;
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>
{% endblock %}
